<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food Truck POS</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f0f0;
        }

        #pos-container {
            display: flex;
            justify-content: space-between;
            padding: 20px;
            gap: 20px; /* Space between sections */
            flex-wrap: wrap; /* Allow wrapping to the next line if not enough space */
        }

        #menu, #basket, #payment {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        #menu {
            flex: 2; /* Take up more space */
            min-width: 300px; /* Minimum width for the menu */
        }

        #basket, #payment {
            flex: 1; /* Take up less space */
            min-width: 250px; /* Minimum width for basket and payment */
        }

        .menu-section {
            margin-bottom: 20px;
        }

        button {
            display: block;
            width: 100%;
            padding: 15px;
            margin-bottom: 10px;
            font-size: 18px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        button:hover {
            background-color: #45a049;
        }

        input[type="number"] {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            font-size: 18px;
        }

        #basket-items {
            list-style-type: none;
            padding: 0;
        }

        #basket-items li {
            margin-bottom: 5px;
        }

        #total-to-pay, #change-amount {
            font-weight: bold;
            font-size: 1.2em;
        }

        #change-amount {
            color: #4CAF50;
        }

        @media (max-width: 768px) {
            #pos-container {
                flex-direction: column;
            }
            
            #menu, #basket, #payment {
                max-width: 100%;
            }
        }
    </style>
</head>
<body>
    <div id="pos-container">
        <div id="menu">
            <h2>Menu</h2>
            <div class="menu-section">
                <h3>Plats Principaux</h3>
                <button class="menu-item" data-name="Poulet grillé sauce cacahuète" data-price="18">Poulet grillé sauce cacahuète - 18 CHF</button>
                <button class="menu-item" data-name="Poulet grillé sauce Yassa" data-price="18">Poulet grillé sauce Yassa - 18 CHF</button>
                <button class="menu-item" data-name="Bœuf au curry rouge" data-price="18">Bœuf au curry rouge - 18 CHF</button>
            </div>
            <div class="menu-section">
                <h3>Accompagnements</h3>
                <button class="menu-item" data-name="Samossas" data-price="3">Samossas - 3 CHF</button>
                <button class="menu-item" data-name="Chapatis" data-price="3">Chapatis - 3 CHF</button>
                <button class="menu-item" data-name="Bananes plantains frites" data-price="5">Bananes plantains frites - 5 CHF</button>
            </div>
            <div class="menu-section">
                <h3>Boissons</h3>
                <button class="menu-item" data-name="Jus de Gingembre" data-price="4">Jus de Gingembre - 4 CHF</button>
                <button class="menu-item" data-name="Jus de Bissap" data-price="4">Jus de Bissap - 4 CHF</button>
                <button class="menu-item" data-name="Eaux minérales" data-price="3">Eaux minérales - 3 CHF</button>
            </div>
            <div class="menu-section">
                <h3>Desserts</h3>
                <button class="menu-item" data-name="Mandazi" data-price="5">Mandazi - 5 CHF</button>
                <button class="menu-item" data-name="Kashata or Basbusa" data-price="2">Kashata or Basbusa - 2 CHF</button>
            </div>
        </div>
        <div id="basket">
            <h2>Panier</h2>
            <ul id="basket-items"></ul>
            <p>Total: <span id="total">0</span> CHF</p>
        </div>
        <div id="payment">
            <h2>Paiement</h2>
            <p>Total à payer: <span id="total-to-pay">0</span> CHF</p>
            <input type="number" id="custom-amount" placeholder="Montant personnalisé">
            <button class="pay-button" data-amount="10">10 CHF</button>
            <button class="pay-button" data-amount="20">20 CHF</button>
            <button class="pay-button" data-amount="50">50 CHF</button>
            <button class="pay-button" data-amount="100">100 CHF</button>
            <p>Monnaie à rendre: <span id="change-amount">0</span> CHF</p>
            <button id="pay-custom">Payer</button>
        </div>
    </div>
    <script>
        console.log("Script loaded");

        // Initialize the basket and total
        let basket = [];
        let total = 0;

        // Function to add item to basket
        function addToBasket(name, price) {
            console.log(`Adding to basket: ${name} - ${price} CHF`);
            let item = basket.find(i => i.name === name);
            if (item) {
                item.quantity++;
            } else {
                basket.push({name: name, price: price, quantity: 1});
            }
            console.log("Basket after adding item:", basket);
            updateBasket();
        }

        // Function to update the basket display
        function updateBasket() {
            console.log("Updating basket");
            let basketElement = document.getElementById('basket-items');
            basketElement.innerHTML = '';
            total = 0;
            basket.forEach(item => {
                let li = document.createElement('li');
                li.textContent = `${item.name} x${item.quantity} - ${item.price * item.quantity} CHF`;
                basketElement.appendChild(li);
                total += item.price * item.quantity;
            });
            document.getElementById('total').textContent = total;
            document.getElementById('total-to-pay').textContent = total;
            updateChangeAmount();
        }

        // Function to update change amount
        function updateChangeAmount() {
            let paymentAmount = parseFloat(document.getElementById('custom-amount').value) || 0;
